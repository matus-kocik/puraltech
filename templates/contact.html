{% extends "base.html" %}
{% load static %}
{% block title %}Kontakt | PurAI{% endblock %}

{% block content %}
<section id="kontakt" class="bg-[#dff5e1] py-12 px-4 md:px-20 max-w-screen-xl mx-auto">
  <div class="mb-8 text-center max-w-xl mx-auto">
    <h2 class="text-2xl font-bold mb-2">Vaše sny přeměníme v realitu</h2>
    <p class="text-base">Nebojíme se výzev, pošlete poptávku, zašleme Vám nezávaznou kalkulaci ZDARMA!</p>
  </div>

  <div class="md:flex md:items-start md:gap-12">
    <!-- Formulář -->
    <form method="post" action="{% url 'contact' %}" class="max-w-lg mx-auto space-y-4 bg-[#dff5e1] p-6" novalidate>
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div>
        {{ form.name.label_tag }}
        {{ form.name }}
        <p id="name-error" class="text-red-600 text-sm mt-1"></p>
        {{ form.name.errors }}
      </div>

      <div>
        {{ form.email.label_tag }}
        {{ form.email }}
        <p id="email-error" class="text-red-600 text-sm mt-1"></p>
        {{ form.email.errors }}
      </div>

      <div>
        {{ form.subject.label_tag }}
        {{ form.subject }}
        <p id="subject-error" class="text-red-600 text-sm mt-1"></p>
        {{ form.subject.errors }}
      </div>

      <div>
        {{ form.message.label_tag }}
        {{ form.message }}
        <p id="message-error" class="text-red-600 text-sm mt-1"></p>
        {{ form.message.errors }}
      </div>

      <!-- Honeypot (skryté pole) -->
      <div style="display:none;">
        {{ form.honeypot }}
      </div>

      <!-- reCAPTCHA -->
      <div class="mt-2">
        {{ form.captcha }}
        {{ form.captcha.errors }}
      </div>

      <button type="submit" class="px-6 py-2 bg-green-700 text-white rounded hover:bg-green-800 transition">
        Odeslat
      </button>
    </form>

    <!-- Pravý sloupec s kontakty -->
    <div class="md:w-1/2 flex flex-col items-center space-y-6 p-6">
      <a href="{% url 'home' %}">
        <img src="{% static 'images/logo1.webp' %}" alt="Puraltech Logo" class="max-w-xs h-auto" loading="lazy" />
      </a>
      <div class="text-center leading-relaxed">
        <p><strong>Dominik Svak</strong><br>+420 605 420 169</p>
        <p><strong>Jakub Janosch</strong><br>+420 602 419 057</p>
        <p><strong>PurAl Technology s.r.o.</strong><br>IČO: 23390786</p>
        <p><strong>Sídlo firmy:</strong><br>Nové Lublice 65<br>Nové Lublice<br>749 01</p>
        <p><strong>Provozovna:</strong><br>Hořejší Kunčice</p>
        <p><strong>B.Ú. CZK:</strong> 357908644/0300<br><strong>B.Ú. EUR:</strong> CZ92 0300 0000 0003 5790 8644</p>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
  <!-- reCAPTCHA V2 -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- Klientská validace (pokud používáš minifikaci, vygeneruj .min.js) -->
  {% if debug %}
    <script src="{% static 'js/form-validation-contact.js' %}"></script>
  {% else %}
    <script src="{% static 'js/form-validation-contact.min.js' %}"></script>
  {% endif %}
{% endblock %}